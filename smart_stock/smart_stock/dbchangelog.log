1/25/2021 CHANGES:
use SmartStock;
alter table PII change f_name fname varchar(100);
alter table PII change l_name lname varchar(100);
alter table User change join_date joindate date;
alter table User change date_added dateadded date;
alter table User change date_confirmed dateconfirmed date;
insert into PII (fname,lname,dob,email,phone) values ('Admin', 'User', '1970-01-01', 'test@test.com', null);
insert into Credential (username, password) values ('Admin', '$2a$11$XyyO0iwLFwpOedBwSF/mfukAezGFmEUlei7D6BUzRaoUylMUCGPG2');
insert into User (pii, credentials, joindate, dateadded, dateconfirmed) values (1, 1, '1970-01-01', '1970-01-01', '1970-01-01');
alter table TradeStrategies modify column Strategy varchar(200);

1/29/2021 CHANGES:
ALTER TABLE Credential CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Credential CHANGE username Username VARCHAR(100) NOT NULL;
ALTER TABLE Credential CHANGE password Password VARCHAR(100) NOT NULL;
ALTER TABLE Credential ADD Constraint UNI_Username UNIQUE KEY (Username);
ALTER TABLE PII CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE PII CHANGE f_name FName VARCHAR(100) NOT NULL;
ALTER TABLE PII CHANGE fname FName VARCHAR(100) NOT NULL;
ALTER TABLE PII CHANGE l_name LName VARCHAR(100) NOT NULL;
ALTER TABLE PII CHANGE lname LName VARCHAR(100) NOT NULL;
ALTER TABLE PII CHANGE dob Dob DATE NOT NULL;
ALTER TABLE PII CHANGE email Email VARCHAR(50) NOT NULL;
ALTER TABLE PII CHANGE phone Phone VARCHAR(10);
ALTER TABLE User CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE User CHANGE pii Pii INT(64) NOT NULL;
ALTER TABLE User CHANGE credentials Credentials INT(64) NOT NULL;
ALTER TABLE User CHANGE join_date JoinDate Date NOT NULL;
ALTER TABLE User CHANGE joindate JoinDate Date NOT NULL;
ALTER TABLE User CHANGE date_added DateAdded Date NOT NULL;
ALTER TABLE User CHANGE dateadded DateAdded Date NOT NULL;
ALTER TABLE User CHANGE date_confirmed DateConfirmed Date;
ALTER TABLE User CHANGE dateconfirmed DateConfirmed Date;
ALTER TABLE User ADD Constraint FK_PII FOREIGN KEY (Pii) REFERENCES PII (Id);
ALTER TABLE User ADD Constraint FK_Credential FOREIGN KEY (Credentials) REFERENCES Credential (Id);
ALTER TABLE Log CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Log CHANGE trade Trade INT(64) NOT NULL;
ALTER TABLE Log CHANGE type Type INT(8) NOT NULL;
ALTER TABLE Log CHANGE date Date DATE NOT NULL;
ALTER TABLE Log ADD Constraint FK_Portfolio FOREIGN KEY (Portfolio) REFERENCES Portfolio (Id);
ALTER TABLE Log ADD Constraint FK_TradeAccount FOREIGN KEY (TradeAccount) REFERENCES TradeAccount (Id);
ALTER TABLE RiskLevels CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE RiskLevels CHANGE risk Risk VARCHAR(50) NOT NULL;
ALTER TABLE RiskLevels CHANGE date_added DateAdded DATE NOT NULL;
ALTER TABLE RiskLevels ADD Constraint UNI_Risk UNIQUE KEY (Risk);
ALTER TABLE TradeStrategies CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE TradeStrategies CHANGE stategy Strategy VARCHAR(50) NOT NULL;
ALTER TABLE TradeStrategies CHANGE strategy Strategy VARCHAR(50) NOT NULL;
ALTER TABLE TradeStrategies CHANGE date_added DateAdded DATE NOT NULL;
ALTER TABLE TradeStrategies ADD Constraint UNI_Strategy UNIQUE KEY (Strategy);
ALTER TABLE Portfolio CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Portfolio CHANGE user User INT(64) NOT NULL;
ALTER TABLE Portfolio CHANGE profit Profit DECIMAL(13,2);
ALTER TABLE Portfolio CHANGE loss Loss DECIMAL(13,2);
ALTER TABLE Portfolio CHANGE net Net DECIMAL(13,2);
ALTER TABLE Portfolio ADD Constraint FK_User FOREIGN KEY (User) REFERENCES User (Id);
ALTER TABLE Trade CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Trade CHANGE trade_account TradeAccount INT(64) NOT NULL;
ALTER TABLE Trade CHANGE ticker Ticker CHAR(4) NOT NULL;
ALTER TABLE Trade CHANGE buy_price BuyPrice DECIMAL(13,2) NOT NULL;
ALTER TABLE Trade CHANGE sell_price SellPrice DECIMAL(13, 2);
ALTER TABLE Trade CHANGE date_bought DateBought DATE NOT NULL;
ALTER TABLE Trade CHANGE date_sold DateSold DATE;
ALTER TABLE Trade ADD Constraint FK_Trade FOREIGN KEY (TradeAccount) REFERENCES TradeAccount (Id);
ALTER TABLE Preference CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Preference CHANGE risk_level RiskLevel INT(64) NOT NULL;
ALTER TABLE Preference CHANGE trade_strategy TradeStrategy INT(64) NOT NULL;
ALTER TABLE Preference CHANGE date_modified DateModified DATE;
ALTER TABLE Preference CHANGE captial_to_risk CapitalToRisk DECIMAL(5,3) NOT NULL;
ALTER TABLE Preference ADD Constraint FK_RiskLevel FOREIGN KEY (RiskLevel) REFERENCES RiskLevels (Id);
ALTER TABLE Preference ADD Constraint FK_TradeStrategy FOREIGN KEY (TradeStrategy) REFERENCES TradeStrategies (Id);
ALTER TABLE TradeAccount CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE TradeAccount CHANGE portfolio Portfolio INT(64) NOT NULL;
ALTER TABLE TradeAccount CHANGE preference Preference INT(64) NOT NULL;
ALTER TABLE TradeAccount CHANGE title Title VARCHAR(50) NOT NULL;
ALTER TABLE TradeAccount CHANGE profit Profit DECIMAL(13,2);
ALTER TABLE TradeAccount CHANGE loss Loss DECIMAL(13,2);
ALTER TABLE TradeAccount CHANGE net Net DECIMAL(13,2);
ALTER TABLE TradeAccount CHANGE num_trades NumTrades INT(64);
ALTER TABLE TradeAccount CHANGE num_s_trades NumSTrades INT(64);
ALTER TABLE TradeAccount CHANGE num_f_trades NumFTrades INT(64);
ALTER TABLE TradeAccount CHANGE date_created DateCreated DATE NOT NULL;
ALTER TABLE TradeAccount CHANGE date_modified DateModified DATE;
ALTER TABLE TradeAccount ADD Constraint FK_Portfolio_TradeAccount FOREIGN KEY (Portfolio) REFERENCES Portfolio (Id);
ALTER TABLE TradeAccount ADD Constraint FK_Preference_TradeAccount FOREIGN KEY (Preference) REFERENCES Preference (Id);
ALTER TABLE Sectors CHANGE id Id INT(64) NOT NULL AUTO_INCREMENT;
ALTER TABLE Sectors CHANGE preference Preference INT(64) NOT NULL;
ALTER TABLE Sectors CHANGE sector Sector VARCHAR(50) NOT NULL;
ALTER TABLE Sectors CHANGE date_added DateAdded DATE NOT NULL;
ALTER TABLE Sectors ADD Constraint FK_Preference_Sectors FOREIGN KEY (Preference) REFERENCES Preference (Id);
ALTER TABLE Sectors ADD Constraint UNI_Sector UNIQUE KEY (Sector);

2/2/2021 CHANGES:
ALTER TABLE Portfolio DROP Log;
ALTER TABLE TradeAccount DROP Log;
ALTER TABLE Portfolio DROP log;
ALTER TABLE TradeAccount DROP log;
ALTER TABLE Log ADD Portfolio INT(64) NOT NULL AFTER Id;
ALTER TABLE Log ADD TradeAccount INT(64) NOT NULL AFTER Portfolio;

2/20/2021 CHANGES:
ALTER TABLE TradeStrategies DROP Strategy;
ALTER TABLE TradeStrategies ADD BlueChip BIT NOT NULL;
ALTER TABLE TradeStrategies ADD LongTerm BIT NOT NULL;
ALTER TABLE TradeStrategies ADD Swing BIT NOT NULL;
ALTER TABLE TradeStrategies ADD Scalp BIT NOT NULL;
ALTER TABLE TradeStrategies ADD Day BIT NOT NULL;

2/21/2021 CHANGES:
INSERT INTO RiskLevels (Risk, DateAdded) VALUES ('Low', '2021-02-21');
INSERT INTO RiskLevels (Risk, DateAdded) VALUES ('Moderate', '2021-02-21');
INSERT INTO RiskLevels (Risk, DateAdded) VALUES ('High', '2021-02-21');
INSERT INTO RiskLevels (Risk, DateAdded) VALUES ('Aggressive', '2021-02-21');
ALTER TABLE Preference DROP Constraint FK_TradeStrategy;
ALTER TABLE Preference DROP TradeStrategy;
ALTER TABLE TradeStrategies ADD Preference INT(64) NOT NULL;
ALTER TABLE Preference CHANGE CaptialToRisk CapitalToRisk DECIMAL(5,3) NOT NULL;
ALTER TABLE TradeAccount DROP Constraint FK_Portfolio_TradeAccount;
ALTER TABLE TradeAccount DROP Constraint FK_Preference_TradeAccount;

2/22/2021 CHANGES:
ALTER TABLE TradeStrategies DROP Preference;
ALTER TABLE Preference ADD TradeStrategy INT(64) NOT NULL;
ALTER TABLE Sectors DROP Constraint FK_Preference_Sectors;
ALTER TABLE Sectors DROP Preference;
ALTER TABLE Sectors DROP Constraint UNI_Sector;
ALTER TABLE Sectors DROP Sector;
ALTER TABLE Sectors ADD InformationTechnology BIT NOT NULL;
ALTER TABLE Sectors ADD HealthCare BIT NOT NULL;
ALTER TABLE Sectors ADD Financials BIT NOT NULL;
ALTER TABLE Sectors ADD ConsumerDiscretionary BIT NOT NULL;
ALTER TABLE Sectors ADD Communication BIT NOT NULL;
ALTER TABLE Sectors ADD Industrials BIT NOT NULL;
ALTER TABLE Sectors ADD ConsumerStaples BIT NOT NULL;
ALTER TABLE Sectors ADD Energy BIT NOT NULL;
ALTER TABLE Sectors ADD Utilities BIT NOT NULL;
ALTER TABLE Sectors ADD RealEstate BIT NOT NULL;
ALTER TABLE Sectors ADD Materials BIT NOT NULL;
ALTER TABLE Preference ADD Sector INT(64) NOT NULL;

2/23/2021 CHANGES:
DELETE FROM Preference;
DELETE FROM RiskLevels;
ALTER TABLE Preference DROP Constraint FK_RiskLevel;
ALTER TABLE RiskLevels CHANGE Id Id INT(64) NOT NULL;
ALTER TABLE Preference ADD Constraint FK_Preference_Strategy FOREIGN KEY (TradeStrategy) REFERENCES TradeStrategies (Id);
ALTER TABLE Preference ADD Constraint FK_Preference_Risk FOREIGN KEY (RiskLevel) REFERENCES RiskLevels (Id);
INSERT INTO RiskLevels (Id, Risk, DateAdded) VALUES (1, 'Low', '2021-02-23');
INSERT INTO RiskLevels (Id, Risk, DateAdded) VALUES (2, 'Moderate', '2021-02-23');
INSERT INTO RiskLevels (Id, Risk, DateAdded) VALUES (3, 'High', '2021-02-23');
INSERT INTO RiskLevels (Id, Risk, DateAdded) VALUES (4, 'Aggressive', '2021-02-23');
ALTER TABLE Portfolio ADD Amount DECIMAL(13, 2);
ALTER TABLE Portfolio ADD Invested DECIMAL(13, 2);
ALTER TABLE Portfolio ADD Cash DECIMAL(13, 2);
ALTER TABLE TradeAccount ADD Amount DECIMAL(13, 2);
ALTER TABLE TradeAccount ADD Invested DECIMAL(13, 2);
ALTER TABLE TradeAccount ADD Cash DECIMAL(13, 2);
ALTER TABLE TradeStrategies DROP DateAdded;
ALTER TABLE Sectors DROP DateAdded;
ALTER TABLE Preference DROP DateModified;
ALTER TABLE TradeAccount ADD Description TEXT;
alter table User add column RefreshTokens varchar(500);
